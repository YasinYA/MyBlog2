angular.module("MyBlog",["ui.router","ngResource"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e,o){e.otherwise("/"),t.state("home",{url:"/",views:{nav:{templateUrl:"views/homeNav.html"},content:{templateUrl:"views/welcome.html"}}}).state("admin",{url:"/admin",views:{content:{templateUrl:"../../admin.html",controller:"LoginController"}}}).state("userPosts",{url:"/userposts",views:{nav:{templateUrl:"views/homeNav.html"},content:{templateUrl:"views/userPosts.html",controller:"PostsController"}}}).state("more",{url:"/more/:id",views:{nav:{templateUrl:"views/homeNav.html"},content:{templateUrl:"views/more.html",controller:"PostsController"}}}).state("about",{url:"/about",views:{nav:{templateUrl:"views/homeNav.html"},content:{templateUrl:"views/aboutMe.html"}}}).state("dashboard",{url:"/dashboard",views:{nav:{templateUrl:"views/dashboardNav.html"},content:{templateUrl:"../../dashboard.html",controller:"DashboardController"}}}).state("posts",{url:"/posts",views:{nav:{templateUrl:"views/dashboardNav.html"},content:{templateUrl:"views/posts.html",controller:"PostsController"}}}).state("add",{url:"/add",views:{nav:{templateUrl:"views/dashboardNav.html"},content:{templateUrl:"views/newPost.html",controller:"PostsController"}}}).state("edit",{url:"/edit/:id",views:{nav:{templateUrl:"views/dashboardNav.html"},content:{templateUrl:"views/edit.html",controller:"PostsController"}}}).state("single",{url:"/single/:id",views:{nav:{templateUrl:"views/dashboardNav.html"},content:{templateUrl:"views/singlePost.html",controller:"PostsController"}}}).state("activities",{url:"/activities",views:{nav:{templateUrl:"views/dashboardNav.html"},content:{templateUrl:"views/activities.html",controller:"PostsController"}}}),o.html5Mode(!0)}]),angular.module("MyBlog").factory("Login",["$resource",function(t){return t("/api/admin",{save:{method:"POST"}})}]).factory("Posts",["$resource",function(t){return t("/api/posts",{query:{method:"GET",isArray:!0},save:{method:"POST",url:"/api/posts"}})}]).factory("Post",["$resource",function(t){return t("/api/post/:id",null,{query:{method:"GET",params:{id:"@_id"},isArray:!0},update:{method:"PUT",params:{id:"@_id"}},"delete":{method:"DELETE",params:{id:"@_id"}}})}]).factory("Comments",["$resource",function(t){return t("/api/comments",{query:{method:"GET",isArray:!0},save:{method:"POST",params:{id:"@_id"}}})}]),angular.module("MyBlog").controller("LoginController",["$scope","Login",function(t,e){t.LoginHandler=function(){t.logUser={username:t.username,password:t.password},t.user=e.save(t.logUser,function(t,e){window.location.href="/dashboard",console.log(t)})}}]).controller("DashboardController",["$scope",function(t){t.message="hello world this is dashboard"}]).controller("PostsController",["$scope","Posts","Post","Comments","$stateParams",function(t,e,o,r,s){t.getPosts=function(){t.posts=e.query()},t.getSingle=function(){t.singlePost=o.get({id:s.id})},t.getComments=function(){t.comments=r.query(),t.arr=[],t.comments.$promise.then(function(e){e.forEach(function(e){s.id===e.postId&&t.arr.push(e)})})},t.addComment=function(){t.comment={name:t.name,email:t.email,postId:s.id,body:t.body,image:"https://cdn1.iconfinder.com/data/icons/photography-2/512/YPS__human_avatar_portrait_photography_picture_photo-512.png"};s.id;t.commentPost=r.save({id:s.id},t.comment,function(){window.location.reload()})},t.addPost=function(){t.NewPost={title:t.title,author:t.author,image:t.image,category:t.category,likes:t.likes,content:t.content},t.addPost=e.save(t.NewPost,function(){window.location.href="/#/posts"})},t.updatePost=function(){var e={title:t.singlePost.title,author:t.singlePost.author,image:t.singlePost.image,category:t.singlePost.category,content:t.singlePost.content};t.editPost=o.update({id:s.id},e,function(){var t=s.id;window.location.href="/#/single/"+t})},t.removePost=function(){t.remove=o["delete"]({id:s.id},function(){window.location.href="/#/posts"})}}]),angular.module("MyBlog").filter("labelCase",function(){return function(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}});
//# sourceMappingURL=../maps/main.min.js.map
